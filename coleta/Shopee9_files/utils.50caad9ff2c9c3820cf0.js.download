(self.miniJsonp=self.miniJsonp||[]).push([[1493],{66069:function(e,t,r){var a;a=(e,t,r)=>(()=>{"use strict";var a={95:(e,t,r)=>{r.d(t,{D:()=>_,t:()=>s});var a=r(661),n=r.n(a),o=r(480),i=!1,_=(e,t,r="common")=>{i||((e,t)=>{i=!0;var r=t||(0,o.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},s=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>P,CE:()=>x,E3:()=>I,H9:()=>d,IE:()=>b,JS:()=>T,Jy:()=>N,L6:()=>w,NJ:()=>m,S1:()=>s,Tb:()=>h,Vm:()=>M,X7:()=>Y,Y8:()=>f,YH:()=>L,Yc:()=>E,dV:()=>G,ef:()=>S,jz:()=>F,pM:()=>p,qk:()=>C,u7:()=>A,xC:()=>D,z$:()=>O});var a,n,o,i,_={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},s=(e,t,r)=>{a=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,o=r,i=_[a]||"en"},c=["my","br","mx","co","ar"],l=["id","th"],u=["us"],E=e=>c.includes(e)?"com.".concat(e):l.includes(e)?"co.".concat(e):u.includes(e)?"com":e,d=e=>"tw"===e?"xiapi":e.toLowerCase(),T=e=>E(e),S=()=>"live"===n?"":"".concat(n,"."),p=()=>"live"===n?"shopee":"".concat(n,".shopee"),O=()=>"cn"===a,f=()=>"kr"===a;function g(){return m()&&!O()}function m(){var e=window.location.hostname;return e&&e.includes("cn")}var v=(e,t)=>"seller"===e?"vn"!==t||g()?"seller":"banhang":e,R=(e,t)=>{var r,o=t?t.toLowerCase():a;return g()?((e,t)=>{var r=t?t.toLowerCase():a;return"".concat(v(e,r),".").concat(d(r),".").concat(p(),".").concat("cn")})(e,o):"".concat(v(e,o),".").concat((r=window.location.hostname,r&&r.includes("shopeebrasil")?"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil"):p()),".").concat(T(o))},C=e=>R("seller",e),P=e=>{var t=e?e.toLowerCase():a;return"seller-service.cs.".concat(p(),".").concat(T(t))},M=()=>"".concat(C(),"/webchat/api"),I=()=>"".concat(C(),"/api"),A=e=>{var t=e?e.toLowerCase():a;return"cn"!==t&&"kr"!==t||(t="my"),m()?"".concat(d(t),".").concat(S()).concat("xiapibuy.com"):"".concat(p(),".").concat(T(t))},h=()=>{var e=a;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(p(),".").concat(T(e))},y=["sg","my","th","ph","vn","id","tw","br"],N=e=>{var t=e?e.toLowerCase():a;if(O())return"https://s-cf-sg.shopeesz.com/file/";if(f())return"https://cf.shopee.sg/file/";var r=y.includes(t);return g()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(E(t),"/file/")},G=e=>{var t=e?e.toLowerCase():a;return"tw"===t&&m()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(E(t),"/file/")},D=()=>"https://".concat(R("seller"),"/webchat/conversations"),L=()=>"https://".concat(R("seller"),"/webchat"),b=()=>n,Y=()=>a,w=()=>o,x=()=>i,F=()=>m()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},602:t=>{t.exports=e},661:e=>{e.exports=t},349:e=>{e.exports=r}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{AccountType:()=>X,AlertType:()=>J,ChatbotFromType:()=>G,ChatbotPauseEntranceTypes:()=>f,ChatbotServeToggle:()=>H,ChatbotToggle:()=>D,ConversationListTab:()=>L,ConversationSource:()=>V,ConversationTypeEnum:()=>C,CustomShareEvent:()=>oe,DataFetchStatus:()=>M,LS:()=>Je,LogisticsCardLabel:()=>u,LogisticsEntranceTypes:()=>S,LogisticsMessageTypes:()=>Zt,MAX_MEDIA_NUM:()=>n,MAX_Z_INDEX:()=>_e,MINI_MIN_TEXT_BOX_HEIGHT:()=>d,MessageErrorCode:()=>a,MessageOption:()=>e,MessageSendStatus:()=>r,MessageShortcutGroupType:()=>_,MessageSource:()=>j,MessageTypes:()=>t,OfferStatus:()=>y,OperationStatus:()=>I,OrderDeliveryStatus:()=>E,OrderDeliveryStatusKeyMap:()=>T,QueueStatusEntranceType:()=>O,RREntranceType:()=>p,ReturnCardStatus:()=>s,ReturnSolution:()=>c,SellerUnreadStatus:()=>k,ServeTodayFolders:()=>U,ServeTodayTab:()=>F,ShareDataType:()=>ie,SlaType:()=>l,SocketConnectionStatus:()=>N,SocketToAlertType:()=>$,StartChatErrorCode:()=>K,StorageKey:()=>ne,SubAccountRole:()=>W,SwitchStatus:()=>A,TrackerOperation:()=>z,TranslationStatus:()=>h,UnreadSource:()=>q,capitalizeFirstLetter:()=>xe,changeLanguage:()=>Pr.D,checkAIBannerGuide:()=>We,checkEmptyObject:()=>se,checkMiniUnrepliedGuide:()=>Xe,cnDomainHash:()=>Tr.H9,compareSameDayOfTimestamp:()=>Re,countUnreadMessage:()=>dr,customizeTime:()=>ge,debounce:()=>Qe,defaultLocalInMall:()=>re,detectTextAndTimestamp:()=>Rr,domainHash:()=>Tr.Yc,domainPrefix:()=>Tr.pM,domainSuffix:()=>Tr.JS,envPrefix:()=>Tr.ef,escapeRegex:()=>pr,fillMessagePreview:()=>sr,formatMessageTime:()=>ve,formatTransifyKeyWithNumber:()=>Le,getApiServer:()=>Tr.Vm,getCDNUrl:()=>Tr.jz,getChatBotParams:()=>or,getCrmPreviewParams:()=>ir,getCurrentTimestampString:()=>Or,getCustomMessageText:()=>Xt,getFileServer:()=>Tr.Jy,getFormattedTime:()=>me,getHasSameSourceAndTarget:()=>nr,getItem:()=>$e,getLocaleText:()=>ar,getLogisticsCardTitle:()=>lr,getLogisticsIssueCardTitle:()=>ur,getMallUrl:()=>Tr.u7,getMallUrlIgnoreCn:()=>Tr.Tb,getMessageIsSend:()=>Sr,getRRMessageTitle:()=>cr,getRowHeight:()=>x,getRuntimeLocale:()=>Tr.CE,getRuntimeRegion:()=>Tr.X7,getRuntimeServer:()=>Tr.IE,getRuntimeVersion:()=>Tr.L6,getSCApiServer:()=>Tr.E3,getSellerCenterUrl:()=>Tr.qk,getSellerServiceUrl:()=>Tr.$S,getServiceLocale:()=>Be,getSystemMessageByLocale:()=>_r,getTranslatedText:()=>Cr,getTranslationLocale:()=>ke,getUrlParam:()=>be,getVideoServer:()=>Tr.dV,getWebChatPureUrl:()=>Tr.YH,getWebChatUrl:()=>Tr.xC,greaterThan:()=>le,handleDisplayTranslation:()=>fr,hasTargetMessageOption:()=>tr,init:()=>Tr.S1,isConversationRead:()=>Q,isConversationUnread:()=>B,isDeletedMessage:()=>rr,isFromChatbotSession:()=>Er,isVisitingCNSC:()=>Tr.z$,isVisitingCn:()=>Tr.NJ,isVisitingKRSC:()=>Tr.Y8,localeInMallToTspLocale:()=>ae,newFormatMessageTime:()=>Pe,persistLimit:()=>tt,previewMessage:()=>er,removeItem:()=>et,setItem:()=>Ze,simpleEqualCheck:()=>ce,throttle:()=>Ve,unifyLocale:()=>Ue,updateTimeLocale:()=>Se});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance"},r={SENDING:1,FAILED:2,SUCCEED:3},a={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,DEFAULT:-1},n=9,_={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var s,c,l,u,E,d=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(s||(s={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(c||(c={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(l||(l={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(u||(u={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(E||(E={}));var T={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},S=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],p="rr_entrance",O="choice_queue_status",f=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"];function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!==g(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C,P={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},M=R(R({},P),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),I=R(R({},P),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),A={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},h={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},y={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},N={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(C||(C={}));var G,D,L={TODAY:"today",ALL:"all"},{itemHeight:b}={itemHeight:{conversationCellForBCSubAccount:94,conversationCell:72,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48},itemWidth:{shopCardCell:356}},{conversationCellForBCSubAccount:Y,conversationCell:w}=b,x=e=>e?Y:w,F={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied"},U=[F.PINNED,F.UNREPLIED,F.AUTOREPLY,F.MANUALREPLY],k={SHOW:1,HIDE:2},H={PAUSE:"paused",RESUME:"show_resume",SHOWPAUSE:"show_paused"},B=(e={})=>{var{unread_count:t=0,seller_unread_status:r}=e;return"number"==typeof t&&t>0||r===k.SHOW},Q=(e={})=>0===e.unread_count&&e.seller_unread_status!==k.SHOW,V={SYNC:4},j={SEND:7},q={PRELOAD:1},W={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},X={SELLER:"seller",SUBACCOUNT:"subaccount"},z={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(G||(G={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(D||(D={}));var K,J={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},$={pending:J.warn,error:J.error,resolved:J.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(K||(K={}));var Z,ee,te,re={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},ae={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},ne={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},oe={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},ie={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},_e=199999,se=e=>!e||0===Object.keys(e).length,ce=(e,t)=>JSON.stringify(e)===JSON.stringify(t),le=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,a=(t+="").length;if(r!==a)return r>a;var n=e.split(""),o=null;return n.forEach(((e,r)=>{"boolean"!=typeof o&&(o=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!o},ue=o(602),Ee=o.n(ue),de=o(95).t,Te=new(Ee()),Se=e=>Te.locale.set(e),pe=e=>e.format("hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(Z||(Z={})),function(e){e[e.Time=0]="Time"}(ee||(ee={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(te||(te={}));var Oe,fe=e=>{var{value:t,date:r,suffix:a,prefix:n}=e,o="",i="";if(n&&(o=de("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),a){var _=a.type===ee.Time?pe(r):"";i=(void 0===a.separator?", ":a.separator)+_}return o+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(Oe||(Oe={}));var ge=(e,t)=>{var{noTodayFlag:r,noTimeFlag:a,needFullFormat:n,onlyKeepDate:o,isConvPreview:i}=t||{},_=Te.create(e);if(n)return fe({value:_.format("LHD"),date:_,suffix:{type:ee.Time}});if(o)return _.format("LHD");var s=["tw","cn"].includes(Te.locale.current),c=((e,t)=>{var r=new Date,a=new Date(e);if(t){var n=r-a,o=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-o+864e5)return Oe.ThisWeek}if(r.getFullYear()===a.getFullYear()){if(r.getMonth()===a.getMonth()){var i=r.getDate(),_=a.getDate();return i===_?Oe.Today:i-1===_?Oe.Yesterday:Oe.ThisMonth}return Oe.ThisYear}return Oe.NONE})(e,i);switch(c){case Oe.Today:var l=r?void 0:{type:Z.Today},u={type:ee.Time,separator:""};return fe({value:"",date:_,prefix:l,suffix:u});case Oe.Yesterday:var E={type:Z.Yesterday},d=a?void 0:{type:ee.Time,separator:""};return fe({value:"",date:_,prefix:E,suffix:d});case Oe.ThisWeek:return de("common.".concat(te[new Date(e).getDay()]));case Oe.ThisMonth:case Oe.ThisYear:var T=a?void 0:{type:ee.Time};return fe({value:_.format(i?s?"MM/DD":"DD/MM":"LHDS"),date:_,suffix:T});default:var S=a?void 0:{type:ee.Time};return fe({value:_.format(i?s?"YY/MM/DD":"DD/MM/YY":"LHD"),date:_,suffix:S})}},me=(e,t="")=>Te.create(e).format(t||"YYYY-MM-DD hh:mm"),ve=e=>{var{created_at:t,created_timestamp:r}=e;return ge(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},Re=(e,t)=>Te.create(e).format("LHD")===Te.create(t).format("LHD"),Ce={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},Pe=(e,t)=>{var r=1e3*e;switch(t){case"time":var a=Te.create(r);return pe(a);case"date":var n=new Date,o=new Date(r);if(n.getFullYear()===o.getFullYear()){if(n.getMonth()===o.getMonth()){var i=n.getDate(),_=o.getDate();if(i===_)return de("conversation_detail.message_list.today");if(i-1===_)return de("conversation_detail.message_list.yesterday");if(i-_<7){var s=o.getDay();return de("common.".concat(Ce[s]))}return Te.create(r).format("LHDS")}return Te.create(r).format("LHDS")}return Te.create(r).format("LHD")}},Me=o(661),Ie=o.n(Me),Ae=e=>0===e||1===e?"one":e>=1e6?"many":"other",he=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",ye=e=>e<=1?"one":"other",Ne={fr:Ae,pl:he,default:ye},Ge={fr:(e,t)=>"".concat(Ae(e),".").concat(Ae(t)),pl:(e,t)=>"".concat(he(e),".").concat(he(t)),default:(e,t)=>"".concat(ye(e),"_").concat(ye(t))},De=["fr","pl"],Le=(e,t,r)=>{var a=Ie().language||"en",n=De.includes(a)?a:"default";return void 0!==r?"".concat(e,"_").concat(Ge[n](t,r)):"".concat(e,"_").concat(Ne[n](t))},be=(e,t)=>{var r=t||window.location.search,a=null;if(r){var n=r.indexOf("?")+1,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");a=r.substr(n).match(o)}return a?unescape(a[2]):null},Ye=["hans","hant"],we=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],xe=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),Fe=e=>{if(e.includes("-")){var t=e.split("-");return Ye.includes(t[1])?"".concat(t[0],"-").concat(xe(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},Ue=e=>{var t=(e||"en").toLowerCase(),r="en";for(var a of we)if(a.includes(t)){r=Fe(a);break}return r},ke=e=>{var t=Ue(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},He={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Be=e=>{var t=Ue(e);return He[t]||"default"},Qe=(e,t=200,r=1e3)=>{var a,n=Date.now();return(...o)=>{a&&(clearTimeout(a),a=null),Date.now()-n>r?(e(...o),n=Date.now()):a=window.setTimeout((()=>{e(...o),n=Date.now()}),t)}},Ve=function(e,t,r={}){var a,n,o,i=null,_=0,s=function(){_=!1===r.leading?0:(new Date).getTime(),i=null,o=e.apply(a,n),i||(a=n=null)};return function(...c){var l=(new Date).getTime();_||!1!==r.leading||(_=l);var u=t-(l-_);return a=this,n=c,u<=0||u>t?(i&&(clearTimeout(i),i=null),_=l,o=e.apply(a,n),i||(a=n=null)):i||!1===r.trailing||(i=window.setTimeout(s,u)),o}},je="modal",qe=(e,t)=>{var{superType:r,secondaryType:a}=t,n=e.find((e=>e.name===r));if(n){var o=n.children;if(o.length){var i=o.find((e=>e.name===a));return i||!1}return!1}return!1},We=e=>qe(e,{superType:"AI-Banner",secondaryType:je}),Xe=e=>qe(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:je}),ze=o(349),Ke=o.n(ze),Je={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var a=r?JSON.stringify(t):t;window.localStorage.setItem(e,a)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},$e=(e,t=!1)=>t?Je.getItem(e):Ke().getItem(e),Ze=(e,t)=>Ke().setItem(e,t),et=(e,t)=>t?Je.removeItem(e):Ke().removeItem(e),tt=Ke().supports(Ke().INDEXEDDB)||Ke().supports(Ke().WEBSQL)?1e3:100,rt=o(95).t;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:ot,MSG_TYPE_IMAGE:it,MSG_TYPE_OFFER:_t,MSG_TYPE_PRODUCT:st,MSG_TYPE_ORDER:ct,MSG_TYPE_STICKER:lt,MSG_TYPE_NOTIFICATION:ut,MSG_TYPE_VOUCHER:Et,MSG_TYPE_ITEM_LIST:dt,MSG_TYPE_FAQ:Tt,MSG_TYPE_FAQ_QUESTION:St,MSG_TYPE_FAQ_LIVEAGENT:pt,MSG_TYPE_FAQ_FEEDBACK:Ot,MSG_TYPE_FAQ_UNSUPPORTED:ft,MSG_TYPE_FAQ_FEEDBACK_PROMPT:gt,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:mt,MSG_TYPE_BUNDLE_MESSAGE:vt,MSG_TYPE_OPTION_PACK:Rt,MSG_TYPE_SELECTED_OPTION:Ct,MSG_TYPE_VIDEO:Pt,MSG_TYPE_IMAGE_WITH_TEXT:Mt,MSG_TYPE_RATE_CARD:It,MSG_TYPE_NEW_FAQ:At,MSG_TYPE_FAQ_CATEGORY_CHOICE:ht,MSG_TYPE_FAQ_QUESTION_LIST:yt,MSG_TYPE_FAQ_TYPE_CHOICE:Nt,MSG_TYPE_FAQ_CATEGORY_LIST:Gt,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:Dt,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:Lt,FAQ_TYPE_BOT_RESPONSE_MESSAGE:bt,MSG_TYPE_SHOPPING_CART:Yt,MSG_TYPE_CRM_ITEM_LIST:wt,MSG_TYPE_RR:xt,MSG_TYPE_CRM_ORDER_RATE:Ft,MSG_TYPE_LOGISTICS_CARD:Ut,MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:kt,MSG_TYPE_EXPEDITED_LOGISTICS_CARD:Ht,MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:Bt,MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:Qt}=t,{PENDING:Vt,REJECTED:jt}=y,qt="common.unsupported_message",Wt={[pt]:"faq.live_agent",[ft]:"faq.new_unsupport_input",[gt]:"faq.feedback_prompt",[mt]:"faq.new_live_agent_prompt",[Pt]:"conversation_detail.input_field.toolbar.video.tip",[Mt]:"conversation_list.conversation_cell.new_image_message"},Xt=e=>rt(Wt[e]||qt),zt=[dt],Kt=[Pt,ft,gt,mt,Mt],Jt=[it,vt,Lt,_t,st,ct,Et,It,lt],$t=[yt,Nt,Gt],Zt=[Ut,kt,Ht,Bt],er=({message:t,enableTranslation:r,locale:a,conversationShopId:n,currentSellerAccountId:o})=>{if(!t)return{text:rt(qt)};var{type:i,content:_={},crm_message_preview:s={},message_option:c,source:l,send_status:u,custom_preview_text:E}=t,d=ke(a);if(s.text)return{text:Cr(s,d)};if(tr(c,e.MSG_OPT_CENSORED_BLACKLIST))return{text:rt("common.blacklist.replaced_text")};if(i){var T,f,{text:g="",title:m,opening:v,caption:R,translation:C,product_name:P,sticker_name:M,chat_product_infos:I=[],products:A=[],rr_detail:h,user_id:y,enquiry_info:N={},common_info:G={},bot_data:D}=_||{},L=Sr(t,{isAgent:!1,shop_id:n}),b=((e,t,r,a)=>{var n,{live_agent_text:o=[],fixed_title:i,faq_type_choice_translation:_}=t||{};if(Kt.includes(e))n=o.length?ar(o,r):Xt(e);else if($t.includes(e))n=ar(e===Nt?_:i,r);else if(Zt.includes(e))n=rt("message.logistics_card.preview.prefix");else{var s=Jt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):zt.includes(e)?"common.tips.recommended".concat(a?"":"_for_you"):"";n=s?"[".concat(rt(s),"]"):rt(qt)}return n})(i,_,a,L);switch(i){case bt:var{message:{plain_text:Y=""}={},reply_type:w}=JSON.parse(D)||{};f=1===w||1001===w?Y:null!=_&&_.preview_text?null==_?void 0:_.preview_text:rt(qt);break;case At:case Tt:f=v||rt("faq.no_set.chat_bot_title");break;case ot:if(L)f=g;else{var x=nr(_);f=!r||x||c===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(l)||2===u?g:(null==C?void 0:C.text)||g}break;case pt:case St:case Ot:case Ct:case Rt:case ht:case Dt:f=g||m;break;case Pt:f="[".concat(b,"]");break;case Mt:f="[".concat(b,"] ").concat(R||m||g);break;case ft:case gt:case mt:case yt:case Nt:case Gt:f=b;break;case st:f="".concat(b," ").concat(P);break;case lt:f=M?"[".concat(M,"]"):b;break;case dt:var F=I.map((e=>e.name)).join("; ");f="".concat(b," ").concat(F);break;case ut:var{notification_for_sender:U,notification_for_receiver:k,notifications_for_sender_hyperlink:H,notifications_for_receiver_hyperlink:B}=_r(_||{},a);if([...S,p,O].includes(_.notification_type)){if((f=L?H:B).includes("<a>")){var Q=f.split("<a>").join("");f=Q.split("</a>").join("")}}else f=L?U:k;break;case It:f="".concat(b," ").concat(rt(L?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case _t:var{status:V,products_count:j,offer_price:q}=_||{};if(V)if(V===Vt){var W=rt("conversation_list.preview.offer_pending_".concat(L?"sender":"receiver"));f="".concat(b," ").concat(W,": ").concat(q," x ").concat(j),L||(T=!0)}else{var X=V===jt?"declined":V;f="".concat(b," ").concat(rt("conversation_detail.workstation.offer_panel.".concat(X)))}else f=b;break;case ct:f="".concat(b," ").concat(A.map((e=>e.title)).join("; "));break;case Et:var{type:z,rule_text:K,discount_text:J}=_||{};if(z){var $="[".concat(rt("conversation_detail.workstation.voucher_panel.".concat(z,"_voucher")),"]");f="".concat($," ").concat(J,", ").concat(K)}else f=b;break;case Yt:f=rt("message.cart_reminder");break;case wt:var Z,ee,te,re=null!==(Z=null==_?void 0:_.title)&&void 0!==Z?Z:{};f=(null===(ee=re.translated_with_lang)||void 0===ee||null===(te=ee.find((e=>e.language===ke(a))))||void 0===te?void 0:te.text)||re.text||rt(qt);break;case xt:var{solution:ae,status:ne}=h,oe=cr({isBuyer:o===y,solution:ae,status:ne});f="[".concat(rt("label.return_and_refund"),"]").concat(oe);break;case Ft:var ie,_e;f=(null==E||null===(ie=E.translated_text)||void 0===ie||null===(_e=ie.find((e=>e.translated_language===ke(a))))||void 0===_e?void 0:_e.translated_text)||(null==E?void 0:E.text)||rt(qt),f=Cr(E,d)||rt(qt);break;case Ut:case Ht:var se=lr(i,_,G.user_id===o,!0);f="[".concat(b,"] ").concat(se);break;case kt:var ce=ur(N);f="[".concat(b,"] ").concat(ce);break;case Bt:f="[".concat(b,"] ").concat(rt("message.late_delivery_compensation_voucher.title"));break;case Qt:f=rt("text.customer_service_entrance");break;default:f=b}return{text:f,isPendingReceivedOffer:T}}return{text:rt(qt)}},tr=(e,t)=>(e&t)===t,rr=(t={})=>tr(t.message_option,e.MSG_OPT_DELETE),ar=(e=[],t)=>(e.find((e=>ke(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,nr=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:a=""}=r,{final:n,mid:o,target_language:i="",source_language:_=""}=t||{},s=n?n.target_language:i,c=n?n.source_language:_,l=o?o.source_language:a;return l?l===s:c===s&&"unknown"!==c},or=(e,t={})=>{var{updateMaxGeneralOptionHideTime:r=!0,updateMessageOption:a=!0}=t,{created_timestamp:n,message_option:o}=e||{},i=a?{last_message_option:o}:{};return nt(nt({},r?{max_general_option_hide_time:n}:{}),i)},ir=e=>{var{crm_message_preview:t={}}=e;return t.text?{crm_message_preview:t}:{crm_message_preview:{}}},_r=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e;if(!r.length)return e;var a=r.find((e=>ke(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(a)return a;var n=r.find((e=>"en"===e.language));return n||e},sr=e=>{var{type:t,textContent:r,content:a}=e,n={};switch(t){case ct:var{products:o}=r||{};n={products:o};break;case Et:var{rule_text:i,discount_text:_,type:s}=r||{};n={rule_text:i,discount_text:_,type:s};break;case _t:var{status:c,products_count:l,offer_price:u}=r||{};n={status:c,products_count:l,offer_price:u};break;case st:n={product_name:a.product_name||(null==r?void 0:r.name)}}return nt(nt({},e),{},{content:nt(nt({},a),n)})},cr=({isBuyer:e,status:t,solution:r})=>{var a=r===c.Return?"return":"return_refund",n=t===s.Submit?"proposed":t===s.Refund?"succeed":"rejected";return rt("rr_message_title.".concat(e?"buyer":"seller",".").concat(a,".").concat(n))},lr=(e,r,a,n)=>{var{common_info:{card_label:o,order_delivery_status:i}={},logistic_tracking_info:{estimate_delivery_time:_,stuck_time:s}={},expedite_delivery_button:c}=r,l=e===t.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,d=o===u.Inquiry,S=T[E[i]],p="".concat(me(1e3*_,"www"),", ").concat(me(1e3*_,"LHDS")),O=n?p:"<a>".concat(p,"</a>"),f=Math.floor(s/86400),g="stuck"===S&&0===f,m="";if(l&&a&&!d)m=rt("message.expedited_logistics_card.title.buyer.expedite");else if(a){var v=c||l||i!==E.AfterGuarantee&&i!==E.AfterEstimated&&(i!==E.Stuck||d)?"":".unable_expedite";m=rt("message.".concat(e,".title.buyer.").concat(d?"inquiry":"expedite",".").concat(S).concat(v),{date:O,num:f}),g&&!l&&(m=d?rt("message.logistics_card.title.buyer.inquiry.normal",{date:O}):rt("message.logistics_card.title.buyer.expedite.nostuck".concat(v)))}else m=rt("message.logistics_card.title.seller.".concat(S),{date:O,num:f}),g&&(m="".concat(rt("message.logistics_card.title.seller.normal",{date:O})).concat(rt("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return m},ur=e=>{var{display_sla_type:t,display_sla_value:r,enquiry_id:a}=e||{};if(t===l.day&&r&&a&&"0"!==a){var n="".concat(l[t],"s");return rt("message.issue_enquiry_card.title.".concat(n),{value:r})}return rt("message.issue_enquiry_card.title.unavailable")},Er=t=>(t&e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER)===e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER,dr=(e,t)=>!t&&!Er(e),Tr=o(480),Sr=(e={},t={})=>{var{isAgent:r,to_tob_user_id:a,shop_id:n}=t,{from_id:o,to_shop_id:i}=e;return r?o!==a:i!==n},pr=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),Or=()=>Math.ceil(Date.now()/1e3).toString(),fr=(e,t,r,a)=>t?e:e||a&&!!r,gr=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},mr=(e,t,r)=>{var a=document.createElement("pre"),n=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(a.id="chat-text-pre",a.setAttribute("style",n),a.innerText=t,r){var o=gr(r);a.appendChild(o)}return a},vr=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),a="height"===t?r.height:r.width;return document.body.removeChild(e),a},Rr=(e,t,r)=>{var a=mr(r,e),n=gr(t),o=mr(r,e,t),i=vr(a);return{conflict:i!==vr(o),multiLine:i>38,timeWidth:vr(n,"width"),widthConflict:vr(o,"width")>vr(a,"width")}},Cr=(e,t)=>{var r,a,n,o;return(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(a=r.find((e=>e.language===t)))||void 0===a?void 0:a.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(o=n.find((e=>e.translated_language===t)))||void 0===o?void 0:o.translated_text)||(null==e?void 0:e.text)||""},Pr=o(95)})(),i})(),e.exports=a(r(14906),r(58518),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);